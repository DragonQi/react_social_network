{"version":3,"sources":["components/Dialogs/Dialogs.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Users/Users.module.css","components/Header/Header.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/common/Preloader/Preloader.module.css","components/Navbar/Navbar.module.css","components/Sidebar/Sidebar.module.css","components/Profile/Profile.module.css","reportWebVitals.js","components/api/api.js","redux/profile-reducer.js","redux/dialogs-reducer.js","redux/sidebar-reducer.js","redux/users-reducer.js","redux/auth-reducer.js","redux/app-reducer.js","redux/redux-store.js","components/Sidebar/Sidebar.jsx","components/Navbar/Navbar.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/common/Preloader/Preloader.jsx","components/Profile/ProfileInfo/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/hoc/withAuthRedirect.js","components/Profile/ProfileContainer.jsx","components/Music/Music.jsx","components/News/News.jsx","components/Settings/Settings.jsx","components/Dialogs/DialogItem/DialogsItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx","assets/images/user.png","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","App.js","index.js"],"names":["module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","instance","axios","create","withCredentials","headers","baseURL","usersAPI","currentPage","pageSize","get","response","data","userId","post","delete","profileAPI","status","put","authAPI","email","password","rememberMe","ADD_POST","UPDATE_NEW_POST_TEXT","SET_USER_PROFILE","SET_STATUS","initialState","posts","id","message","likesCount","newPostText","profile","profileReducer","state","action","type","newPost","newText","setUserProfile","setUserStatus","UPDATE_NEW_MESSAGE_BODY","SEND_MESSAGE","dialogs","name","messages","newMessageBody","dialogsReducer","body","sidebarReducer","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","usersReducer","map","u","followed","countNumber","filter","setToggleIsFetching","toggleFollowingProgress","SET_AUTH_USER_DATA","login","isAuth","authorizedUserId","authReducer","setAuthUserData","getAuthUserData","dispatch","resultCode","INITIALIZED_SUCCESS","initialized","appReducer","reducers","combineReducers","profilePage","dialogsPage","sidebar","usersPage","auth","app","store","createStore","applyMiddleware","thunkMiddleware","window","Sidebar","props","Navbar","className","s","nav","item","to","activeClassName","activeLink","active","Post","src","MyPosts","postsElements","p","newPostElement","React","createRef","postsBlock","onChange","text","current","value","updateNewPostText","ref","onClick","addPost","Preloader","Component","ProfileStatusWithHooks","useState","editMode","setEditMode","setStatus","useEffect","onDoubleClick","e","currentTarget","onBlur","updateUserStatus","ProfileInfo","descriptionBlock","photos","large","MyPostsContainer","connect","updateNewPostTextCreator","Profile","mapStateToPropsForRedirect","withAuthRedirect","RedirectComponent","this","ProfileContainer","match","params","getProfileThunk","getUserStatusThunk","updateUserStatusThunk","compose","withRouter","Music","News","Settings","DialogItem","path","dialog","Message","Dialogs","dialogsElements","d","messagesElements","m","dialogsItems","placeholder","target","updateNewMessageBodyCreator","sendMessage","Users","pagesCount","Math","ceil","pages","i","push","selectedPage","onPageChanged","small","userPhoto","disabled","some","unfollow","follow","getUsers","getPageSize","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","setCurrentPage","getUsersThunk","followThunk","unfollowThunk","items","totalCount","followApply","unfollowApply","Header","header","loginBlock","logout","HeaderContainer","Login","useDispatch","initialValues","validate","values","errors","test","onSubmit","setSubmitting","isSubmitting","component","App","initializeApp","render","DialogsContainer","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.e671b9b8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1OB_3\",\"dialogsItems\":\"Dialogs_dialogsItems__O_eE5\",\"active\":\"Dialogs_active__1V68z\",\"messages\":\"Dialogs_messages__uvz6j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__kTTe_\",\"posts\":\"MyPosts_posts__3OR7J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__ZaJ9z\",\"post\":\"Post_post__R_LEv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__2k3WV\",\"selectedPage\":\"Users_selectedPage__3dX3f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3wqyU\",\"loginBlock\":\"Header_loginBlock__2v8-d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3iuZ3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Preloader_item__2Rtas\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3PsDP\",\"item\":\"Navbar_item__3ILR8\",\"activeLink\":\"Navbar_activeLink__2PGMA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__WdJwm\",\"friends\":\"Sidebar_friends__2S-TI\",\"friend\":\"Sidebar_friend__3jKJg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Profile_item__3e8tZ\"};","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials:true,\r\n    headers: {\r\n        'API-KEY': '6a1315c1-3a31-49c8-b775-90135b06c639'\r\n    },\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/'\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers (currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data;\r\n            })\r\n    },\r\n    getFollow (userId) {\r\n        return instance.post(`follow/${userId}`)\r\n            .then(response => {\r\n                return response.data;\r\n            })\r\n    },\r\n    getUnfollow (userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n            .then(response => {\r\n                return response.data;\r\n            })\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile (userId) {\r\n        return instance.get(`profile/` + userId).then(response => {\r\n            return response.data;\r\n        })\r\n    },\r\n    getStatus (userId) {\r\n        return instance.get('profile/status/' + userId).then(response => {\r\n                return response.data;\r\n        })\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put('profile/status/', { status: status})\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n     getAuthMe() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n     login(email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe})\r\n    },\r\n    logout() {\r\n        return instance.delete('auth/login')\r\n    }\r\n}","import {profileAPI} from \"../components/api/api\";\r\n\r\nconst ADD_POST = 'ADD_POST';\r\nconst UPDATE_NEW_POST_TEXT = 'UPDATE_NEW_POST_TEXT';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: \"TextMessage1\", likesCount: 12},\r\n        {id: 2, message: \"TextMessage2\", likesCount: 11},\r\n        {id: 3, message: \"TextMessage3\", likesCount: 15},\r\n        {id: 4, message: \"TextMessage4\", likesCount: 13}\r\n    ],\r\n    newPostText: '',\r\n    profile: null,\r\n    status: ''\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: state.newPostText,\r\n                likesCount: 0\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: ''\r\n            };\r\n        }\r\n        case UPDATE_NEW_POST_TEXT: {\r\n            return {\r\n                ...state,\r\n                newPostText: action.newText\r\n            }\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {...state, profile: action.profile}\r\n        }\r\n        case SET_STATUS: {\r\n            return {...state, status: action.status}\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default profileReducer;\r\n\r\nexport const addPostCreator = () => {\r\n    return {type: ADD_POST}\r\n};\r\nexport const updateNewPostTextCreator = (text) => {\r\n    return {type: UPDATE_NEW_POST_TEXT, newText: text}\r\n};\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setUserStatus = (status) => ({type: SET_STATUS, status});\r\n\r\nexport const getProfileThunk = (userId) => {\r\n    return (dispatch) => {\r\n        profileAPI.getProfile(userId).then(data => {\r\n            dispatch(setUserProfile(data));\r\n        })\r\n    }\r\n};\r\n\r\nexport const getUserStatusThunk = (userId) => {\r\n    return (dispatch) => {\r\n        profileAPI.getStatus(userId).then(data => {\r\n            dispatch(setUserStatus(data));\r\n        })\r\n    }\r\n};\r\n\r\nexport const updateUserStatusThunk = (status) => {\r\n    return (dispatch) => {\r\n        profileAPI.updateStatus(status).then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setUserStatus(status))\r\n            }\r\n        })\r\n    }\r\n};","const UPDATE_NEW_MESSAGE_BODY = 'UPDATE_NEW_MESSAGE_BODY';\r\nconst SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Name1'},\r\n        {id: 2, name: 'Name2'},\r\n        {id: 3, name: 'Name3'},\r\n        {id: 4, name: 'Name4'},\r\n        {id: 5, name: 'Name5'},\r\n        {id: 6, name: 'Name6'}\r\n    ],\r\n    messages: [\r\n        {id: 1, message: '1'},\r\n        {id: 2, message: '2'},\r\n        {id: 3, message: '3'},\r\n        {id: 4, message: '4'},\r\n        {id: 5, message: '5'},\r\n        {id: 6, message: '6'}\r\n    ],\r\n    newMessageBody: ''\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case UPDATE_NEW_MESSAGE_BODY:\r\n            return {\r\n                ...state,\r\n                newMessageBody: action.body\r\n            };\r\n        //посимвольное обновление в textarea сообщения\r\n        case SEND_MESSAGE:\r\n            let body = state.newMessageBody;\r\n            return {\r\n                ...state,\r\n                newMessageBody: '',\r\n                messages: [...state.messages, {id: 7, message: body}]\r\n            };\r\n        //пуш содержимого textarea в _state\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default dialogsReducer;\r\n\r\nexport const sendMessageCreator = () => {\r\n    return {type: SEND_MESSAGE}\r\n};\r\nexport const updateNewMessageBodyCreator = (text) => {\r\n    return {type: UPDATE_NEW_MESSAGE_BODY, body: text}\r\n};","let initialState = {};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import {usersAPI} from \"../components/api/api\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: true}\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        case SET_USERS: {\r\n            return {...state, users: action.users}\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUsersCount: action.countNumber}\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default usersReducer;\r\n\r\n\r\nexport const followApply = (userId) => ({type: FOLLOW, userId})\r\nexport const unfollowApply = (userId) => ({type: UNFOLLOW, userId})\r\nexport const setUsers = (users) => ({type: SET_USERS, users})\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, countNumber: totalUsersCount})\r\nexport const setToggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId});\r\n\r\nexport const getUsersThunk = (currentPage, pageSize) => {\r\n    return (dispatch) => {\r\n        dispatch(setToggleIsFetching(true));\r\n\r\n        usersAPI.getUsers(currentPage, pageSize).then(data => {\r\n            dispatch(setUsers(data.items));\r\n            dispatch(setTotalUsersCount(data.totalCount));\r\n            dispatch(setToggleIsFetching(false));\r\n        })\r\n    }\r\n};\r\n\r\nexport const followThunk = (userId) => {\r\n    return (dispatch) => {\r\n\r\n        dispatch(toggleFollowingProgress(true, userId));\r\n        usersAPI.getFollow(userId).then(data => {\r\n            if (data.resultCode === 0) {\r\n                dispatch(followApply(userId))\r\n            }\r\n            dispatch(toggleFollowingProgress(false, userId));\r\n        })\r\n    }\r\n};\r\n\r\nexport const unfollowThunk = (userId) => {\r\n    return (dispatch) => {\r\n\r\n        dispatch(toggleFollowingProgress(true, userId));\r\n        usersAPI.getUnfollow(userId).then(data => {\r\n            if (data.resultCode === 0) {\r\n                dispatch(unfollowApply(userId))\r\n            }\r\n            dispatch(toggleFollowingProgress(false, userId));\r\n        })\r\n    }\r\n};\r\n\r\n\r\n","import {authAPI} from \"../components/api/api\";\r\nimport React from \"react\";\r\n\r\nconst SET_AUTH_USER_DATA = 'SET_AUTH_USER_DATA';\r\n\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isFetching: false,\r\n    isAuth: false,\r\n    authorizedUserId: null\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_AUTH_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default authReducer;\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_AUTH_USER_DATA,\r\n    data: {userId, email, login, isAuth}})\r\n\r\nexport const getAuthUserData = () => (dispatch) => {\r\n        return authAPI.getAuthMe().then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                let {id, email, login} = response.data.data;\r\n                dispatch(setAuthUserData(id, email, login, true));\r\n            }\r\n        })\r\n}\r\n\r\n/*export const loginMe = (email, password, rememberMe) => {\r\n        return (dispatch) => {\r\n            authAPI.login(email, password, rememberMe).then(response => {\r\n                if (response.data.resultCode === 0) {\r\n                    dispatch(getAuthUserData())\r\n                }\r\n            })\r\n        }\r\n}\r\n\r\nexport const loginMe = (email, password, rememberMe) => (dispatch) => {\r\n    return authAPI.login(dispatch).then(response => {\r\n            console.log(response.data.resultCode)\r\n    })\r\n}*/\r\n\r\n\r\nexport const logout = () => (dispatch) => {\r\n    authAPI.logout(dispatch).then(response => {\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setAuthUserData(null, null, null, false))\r\n        }\r\n    })\r\n}\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS'\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData())\r\n    promise.then(() => {\r\n        dispatch(initializedSuccess())\r\n    })\r\n}\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer\r\n})\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import React from \"react\";\r\nimport s from './Sidebar.module.css';\r\n\r\nconst Sidebar = (props) => {\r\n/*\r\n    let sidebarElements = props.sidebar.map(p =>\r\n            <div className={s.friend}>\r\n                <img src={p.iconLink}/>\r\n                <div>{p.name}</div>\r\n            </div>\r\n        )\r\n*/\r\n\r\n    return (\r\n/*\r\n        <div>\r\n            <div className={s.sidebar}>\r\n                Friends\r\n            </div>\r\n            <div className={s.friends}>\r\n                {sidebarElements}\r\n            </div>\r\n        </div>\r\n*/\r\n        <div>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Sidebar;","import React from \"react\";\r\nimport s from './Navbar.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Sidebar from \"../Sidebar/Sidebar\";\r\n\r\nconst Navbar = (props) => {\r\n    return <nav className={s.nav}>\r\n        <div className={s.item}>\r\n            <NavLink to='/profile' activeClassName={s.activeLink} >Profile</NavLink>\r\n        </div>\r\n        <div className={`${s.item} ${s.active}`}>\r\n            <NavLink to='/dialogs' activeClassName={s.activeLink}>Message</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to='/users' activeClassName={s.activeLink}>Users</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to='/news' activeClassName={s.activeLink}>News</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to='/music' activeClassName={s.activeLink}>Music</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to='/settings' activeClassName={s.activeLink}>Settings</NavLink>\r\n        </div>\r\n        <Sidebar /*sidebar={props.state.sidebar}*//>\r\n    </nav>\r\n}\r\n\r\nexport default Navbar;","import React from \"react\";\r\nimport s from './Post.module.css'\r\n\r\nconst Post = (props) => {\r\n    return <div className={s.post}>\r\n        <div className={s.item}>\r\n            <img src='https://www.meme-arsenal.com/memes/6e04ae9a90c6874a681e2c5d8cb5d046.jpg'/>\r\n            {props.message}\r\n            <div>\r\n                <span>like {props.likesCount}</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Post;","import React from \"react\";\r\nimport s from './MyPosts.module.css'\r\nimport Post from \"./Post/Post\";\r\n\r\nconst MyPosts = (props) => {\r\n\r\n    let postsElements = props.posts\r\n        .map(p => <Post message={p.message} likesCount={p.likesCount}/>)\r\n\r\n    let newPostElement = React.createRef();\r\n\r\n    let onAddPost = () => {\r\n        props.addPost();\r\n    };\r\n\r\n    let onPostChange = () => {\r\n        let text = newPostElement.current.value;\r\n        props.updateNewPostText(text);\r\n    }\r\n\r\n    return (\r\n        <div className={s.postsBlock}>\r\n            <h3>my post</h3>\r\n            <div>\r\n                <div>\r\n                    <textarea onChange={onPostChange} ref={newPostElement} value={props.newPostText}/>\r\n                </div>\r\n                <div>\r\n                    <button onClick={onAddPost}>Add Post</button>\r\n                </div>\r\n            </div>\r\n                <div className={s.posts}>\r\n                    { postsElements }\r\n                </div>\r\n        </div>);\r\n};\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport s from './Preloader.module.css'\r\n\r\nlet Preloader = () => {\r\n    return (<div className={s.item} >\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n    </div>)\r\n}\r\n\r\nexport default Preloader;","import React from 'react';\r\n\r\nclass ProfileStatus extends React.Component {\r\n    state = {\r\n        editMode: false,\r\n        status: this.props.status\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevProps.status !== this.props.status) {\r\n            this.setState({\r\n                status: this.props.status\r\n            })\r\n        }\r\n    }\r\n\r\n    activateEditMode = () => {\r\n        this.setState( {\r\n            editMode: true\r\n        })//setState асинхронен\r\n    }//this.forceUpdate(); позже почитать\r\n\r\n    deactivateEditMode = () => {\r\n        this.setState( {\r\n            editMode: false\r\n        })\r\n        this.props.updateUserStatus(this.state.status)\r\n    }\r\n\r\n    onStatusChange = (e) => {\r\n        this.setState({\r\n            status: e.currentTarget.value\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {!this.state.editMode &&\r\n                    <div>\r\n                        <span onDoubleClick={this.activateEditMode}>{this.props.status || \"-------\"/* временное решение, чтобы не терять статус */}</span>\r\n                    </div>\r\n                }\r\n                {this.state.editMode &&\r\n                    <div>\r\n                        <input onChange={this.onStatusChange} onBlur={this.deactivateEditMode} value={this.state.status}/>\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ProfileStatus;","import React, {useEffect, useState} from 'react';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);//useState состоит из массива двух значений, непосредственно значения и второе, способа изменения этого значения\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateUserStatus(status);\r\n    }\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n        return (\r\n            <>\r\n                {!editMode &&\r\n                <div>\r\n                        <span onDoubleClick={activateEditMode}>{props.status || \"-------\"}</span>\r\n                    </div>\r\n                }\r\n                {editMode &&\r\n                    <div>\r\n                        <input onChange={onStatusChange}\r\n                               onBlur={deactivateEditMode}\r\n                               value={status}/>\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n};\r\n\r\nexport default ProfileStatusWithHooks;\r\n","import React from 'react';\r\nimport s from './ProfileInfo.module.css';\r\nimport MyPosts from \"../MyPosts/MyPosts\";\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport ProfileStatus from \"./ProfileStatus\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\n\r\nconst ProfileInfo = (props) => {\r\n    if (!props.profile) {\r\n        return <Preloader/>\r\n    }\r\n    return (\r\n        <div>\r\n            {/*<div>\r\n                <img src=\"https://theinpaint.com/images/example-1-2.jpg\"/>\r\n            </div>*/}\r\n            <div className={s.descriptionBlock}>\r\n                <img src={props.profile.photos.large}/>\r\n                <ProfileStatusWithHooks status={props.status} updateUserStatus={props.updateUserStatus}/>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ProfileInfo;","import React from \"react\";\r\nimport {addPostCreator, updateNewPostTextCreator} from \"../../../redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        newPostText: state.profilePage.newPostText\r\n    }\r\n};\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        updateNewPostText: (text) => {\r\n            let action = updateNewPostTextCreator(text);\r\n            dispatch(action);\r\n        },\r\n        addPost: () => {\r\n            dispatch(addPostCreator());\r\n        }\r\n    }\r\n};\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;","import React from \"react\";\r\nimport s from './Profile.module.css'\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n\r\nconst Profile = (props) => {\r\n    return (\r\n        <div>\r\n            <ProfileInfo profile={props.profile} status={props.status} updateUserStatus={props.updateUserStatus}/>\r\n            <MyPostsContainer store={props.store}/>\r\n        </div>)\r\n};\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render () {\r\n            if (!this.props.isAuth) return <Redirect to={'/login'} />\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}\r\n","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getProfileThunk, getUserStatusThunk, setUserProfile, updateUserStatusThunk} from \"../../redux/profile-reducer\";\r\nimport { withRouter } from \"react-router\";\r\nimport {withAuthRedirect} from \"../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId; //вытаскиваем параметр id из url, если его нет, юзаем профиль по умолчанию\r\n        if (!userId) {\r\n            userId = '15131';\r\n        }\r\n        this.props.getProfileThunk(userId);\r\n        this.props.getUserStatusThunk(userId);\r\n    }\r\n\r\n    render() {\r\n        return <Profile {...this.props}\r\n                        profile={this.props.profile}\r\n                        status={this.props.status}\r\n                        updateUserStatus={this.props.updateUserStatusThunk}/>\r\n    }\r\n}\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status\r\n});\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {setUserProfile, getProfileThunk, getUserStatusThunk, updateUserStatusThunk}),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer);","import React from 'react';\r\nimport s from './Music.module.css'\r\n\r\nconst Music = (props) => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\nimport s from './News.module.css';\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","import React from 'react';\r\nimport s from './Settings.module.css'\r\n\r\nconst Settings = (props) => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","import React from 'react';\r\nimport s from './../Dialogs.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst DialogItem = (props) => {\r\n    let path = \"/dialogs/\" + props.id;\r\n    return <div className={s.dialog + ' ' + s.active}>\r\n        <NavLink to={path}>{props.name}</NavLink>\r\n    </div>\r\n}\r\n\r\nexport default DialogItem;","import React from 'react';\r\nimport s from './../Dialogs.module.css'\r\n\r\nconst Message = (props) => {\r\n    return <div className={s.dialog}>{props.message}</div>\r\n};\r\n\r\nexport default Message;","import React from 'react';\r\nimport s from './Dialogs.module.css'\r\nimport DialogItem from \"./DialogItem/DialogsItem\";\r\nimport Message from \"./Message/Message\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst Dialogs = (props) => {\r\n\r\n    let state = props.dialogsPage;\r\n\r\n    let dialogsElements = state.dialogs\r\n        .map((d) => <DialogItem name={d.name} key={d.id} id={d.id}/>);\r\n    let messagesElements = state.messages\r\n        .map((m) => <Message message={m.message} key={m.id}/>);\r\n\r\n    let newMessageBody = state.newMessageBody;\r\n\r\n    let onSendMessageClick = () => {\r\n        props.sendMessage();\r\n    }\r\n\r\n    let onNewMessageChange = (e) => {\r\n        let body = e.target.value;\r\n        props.updateNewMessageBodyCreator(body);\r\n    }\r\n\r\n    if (!props.isAuth) return <Redirect to={'/login'}/>\r\n\r\n    return (\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialogsItems}>\r\n                {dialogsElements}\r\n            </div>\r\n            <div className={s.messages}>\r\n                <div>\r\n                    {messagesElements}\r\n                </div>\r\n                <div>\r\n                    <div>\r\n                        <textarea placeholder='Enter your message'\r\n                                  value={newMessageBody}\r\n                                  onChange={onNewMessageChange}>\r\n                        </textarea>\r\n                    </div>\r\n                    <div>\r\n                        <button onClick={onSendMessageClick}>Send</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dialogs;","import React from 'react';\r\nimport {sendMessageCreator, updateNewMessageBodyCreator} from \"../../redux/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogsPage: state.dialogsPage,\r\n    }\r\n};\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        updateNewMessageBodyCreator: (body) => {\r\n            dispatch(updateNewMessageBodyCreator(body));\r\n        },\r\n        sendMessage: () => {\r\n            dispatch(sendMessageCreator());\r\n        }\r\n    }\r\n};\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Dialogs);","export default __webpack_public_path__ + \"static/media/user.9556128f.png\";","import React from 'react';\r\nimport s from './Users.module.css';\r\nimport userPhoto from '../../assets/images/user.png';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet Users = (props) => {\r\n\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    return <div>\r\n            <div>\r\n                { pages.map(p => {\r\n                        return <span className={props.currentPage === p && s.selectedPage}\r\n                        onClick={(e) => {props.onPageChanged(p) }}>{p}</span>\r\n                    })}\r\n            </div>\r\n            {\r\n                props.users.map(u => <div key={u.id}>\r\n                <span>\r\n                    <div>\r\n                        <NavLink to={'/profile/' + u.id}>\r\n                            <img src={u.photos.small != null ? u.photos.small : userPhoto} className={s.userPhoto}/>\r\n                        </NavLink>\r\n                    </div>\r\n                    <div>\r\n                        {u.followed\r\n                            ? <button\r\n                                disabled={props.followingInProgress.some(id => id === u.id)}\r\n                                onClick={() => {props.unfollow(u.id);}}>Unfollow</button>\r\n                            : <button\r\n                                disabled={props.followingInProgress.some(id => id === u.id)}\r\n                                onClick={() => {props.follow(u.id);}}>Follow</button>}\r\n                    </div>\r\n                </span>\r\n                    <span>\r\n                        <span>\r\n                            <div>{u.name}</div><div>{u.status}</div>\r\n                        </span>\r\n                        <span>\r\n                            <div>{\"u.location.country\"}</div>\r\n                            <div>{\"u.location.city\"}</div>\r\n                        </span>\r\n                    </span>\r\n                </div>)\r\n            }\r\n        </div>\r\n    }\r\n\r\nexport default Users;","import {createSelector} from \"reselect\";\r\n\r\nexport const getUsers = (state) => {\r\n    return state.usersPage.users\r\n};\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n};\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n};\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n};\r\n\r\n/*export const getUsersSelector = createSelector(getUsers, (users) => {\r\n    return users.filter(u => true)\r\n}) создание сложного селектора на основе простого с использованием библиотеки reselect*/\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {\r\n    followThunk,\r\n    unfollowThunk,\r\n    getUsersThunk,\r\n    setCurrentPage,\r\n} from \"../../redux/users-reducer\";\r\nimport Users from './Users';\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {withAuthRedirect} from \"../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getUsers\r\n} from \"../../redux/users-selectors\";\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getUsersThunk(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        this.props.setCurrentPage(pageNumber)\r\n        this.props.getUsersThunk(pageNumber, this.props.pageSize)\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader /> : null}\r\n            <Users\r\n                totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                onPageChanged={this.onPageChanged}\r\n                users={this.props.users}\r\n                follow={this.props.followThunk}\r\n                unfollow={this.props.unfollowThunk}\r\n                followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: 100 /*getTotalUsersCount(state)*/, //принудительное ограничение, в связи с тем что пользователей больше 10 тыс\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n};\r\n\r\nexport default compose(\r\n    connect (mapStateToProps, {setCurrentPage, getUsersThunk, followThunk, unfollowThunk}),\r\n    withAuthRedirect\r\n)(UsersContainer)","import React from \"react\";\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return <header className={s.header}>\r\n        <img src='https://cdn.dribbble.com/users/182238/screenshots/2383317/lion2.jpg'/>\r\n        <div className={s.loginBlock}>{props.isAuth\r\n            ? <div>{props.login} - <button onClick={props.logout}>Logout</button> </div>\r\n            : <NavLink to={'/login'}>Login</NavLink>}\r\n        </div>\r\n    </header>\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout, setAuthUserData} from \"../../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n});\r\n\r\nexport default connect(mapStateToProps, {setAuthUserData, logout})(HeaderContainer);","import React from 'react';\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\r\nimport {authAPI} from \"../api/api\";\r\nimport {getAuthUserData, loginMe} from \"../../redux/auth-reducer\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\n\r\n\r\nconst Login = (props) => {\r\n    const dispatch = useDispatch();\r\n\r\n    if(props.store) {\r\n        <Redirect to={\"/profile\"}/>\r\n    }\r\n\r\n    return <div>\r\n        {/*<h1>Login Here</h1>*/}\r\n        <Formik\r\n            initialValues={{email: '', password: ''}}\r\n            validate={values => {\r\n                const errors = {};\r\n                if (!values.email) {\r\n                    errors.email = 'Required';\r\n                } else if (\r\n                    !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)\r\n                ) {\r\n                    errors.email = 'Invalid email address';\r\n                }\r\n                return errors;\r\n            }}\r\n            onSubmit={(values, {setSubmitting}) => {\r\n                authAPI.login(values.email, values.password, values.rememberMe)\r\n                    .then(response => {\r\n                        if (response.data.resultCode === 0) {\r\n                            dispatch(getAuthUserData())\r\n                        }\r\n                    })\r\n            }}\r\n        >\r\n            {({isSubmitting}) => (\r\n                <Form>\r\n                    Login\r\n                    <div>\r\n                        <Field type=\"email\" name=\"email\"/>\r\n                        <ErrorMessage name=\"email\" component=\"div\"/>\r\n                    </div>\r\n                    Password\r\n                    <div>\r\n                        <Field type=\"password\" name=\"password\"/>\r\n                        <ErrorMessage name=\"password\" component=\"div\"/>\r\n                    </div>\r\n                    <div>\r\n                        <Field type=\"checkbox\" name=\"rememberMe\"/> remember me\r\n                    </div>\r\n                    <button type=\"submit\"> {/*disabled={isSubmitting}*/}\r\n                        Submit\r\n                    </button>\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n    </div>\r\n};\r\nexport default Login;","import React from \"react\";\r\nimport './App.css';\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport Music from \"./components/Music/Music\";\r\nimport News from \"./components/News/News\";\r\nimport Settings from \"./components/Settings/Settings\";\r\nimport {BrowserRouter, HashRouter, Route} from \"react-router-dom\";\r\nimport DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport LoginContainer from \"./components/Login/LoginContainer\";\r\nimport {connect} from \"react-redux\";\r\nimport { withRouter } from \"react-router\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./redux/app-reducer\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport Login from \"./components/Login/Login\";\r\n\r\n\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n    }\r\n\r\n    render() {\r\n\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n\r\n        return (\r\n            <HashRouter /*basename={process.env.PUBLIC_URL} HashRouter вместо BrowserRouter использован по причине более удобной настройки на gh-pages */>\r\n                <div className='app-wrapper'>\r\n                    <HeaderContainer/>\r\n                    <Navbar state={this.props.state}/>\r\n                    <div className='app-wrapper-content'>\r\n                        <Route path='/dialogs'\r\n                               render={() => <DialogsContainer store={this.props.store}/>}/>\r\n                        <Route path='/profile/:userId?'\r\n                               render={() => <ProfileContainer store={this.props.store}/>}/>\r\n                        <Route path='/users' render={() => <UsersContainer/>}/>\r\n                        <Route path='/news' render={() => <News/>}/>\r\n                        <Route path='/music' render={() => <Music/>}/>\r\n                        <Route path='/settings' render={() => <Settings/>}/>\r\n                        <Route path='/login' render={() => <Login store={this.props.store}/>}/>\r\n                    </div>\r\n                </div>\r\n            </HashRouter>\r\n        );\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\nexport default compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeApp} ))(App);\r\n","import reportWebVitals from './reportWebVitals';\r\nimport './index.css';\r\nimport store from \"./redux/redux-store\";\r\nimport React from 'react'\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\n\r\nReactDOM.render(\r\n    <BrowserRouter>\r\n        <Provider store={store}>\r\n            <App />\r\n        </Provider>\r\n    </BrowserRouter>,\r\n    document.getElementById('root')\r\n);\r\n\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}